<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Two-column live Markdown</title>

<!-- ① Markdown → HTML 변환기 -->
<script src="marked.min.js"></script>

<style>
  :root{color-scheme:dark}
  body{
    margin:0;height:100vh;display:flex;overflow:hidden;
    font:15px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:#0e1621;color:#e6e6e6;
  }
  .pane{
    flex:1 1 50%;padding:28px;overflow:auto;
    border-left:1px solid #1b2738;           /* 가운데 세로선 */
  }
  .pane:first-child{border-left:none}
  h1,h2,h3{color:#86b9f5;margin-top:1.3em}
  a{color:#6ec1ff}
</style>
</head>
<body>
  <div id="left"  class="pane">Loading…</div>
  <div id="right" class="pane">Loading…</div>
<script>
/* ---------------- 설정 ---------------- */
const LEFT_MD  = "Dashboard.md";
const RIGHT_MD = "Right.md";
const INTERVAL = 5_000;             // ms, 0 = 자동 새로고침 끔
/* ------------------------------------- */

async function load(url,target){
  try{
    /* cache 'no-store' + 시간쿼리 → 수정 즉시 반영 */
    const res = await fetch(url,
                            {cache:'no-store'});
    if(!res.ok) throw new Error(res.status + ' ' + res.statusText);
    target.innerHTML = marked.parse(await res.text());
  }catch(e){
    target.innerHTML = `<p style="color:#ff6c6c">Error:<br>${e}</p>`;
  }
}

function update(){
  load(LEFT_MD , document.getElementById('left'));
  load(RIGHT_MD, document.getElementById('right'));
}

update();
if(INTERVAL>0) setInterval(update, INTERVAL);
</script>
</body>
</html>
