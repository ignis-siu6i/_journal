# \[H2309\] \[Pro\] 출근길 라디오
## 제한 사항
|   |   |
|---|---|
|시간|25개 테스트케이스를 합쳐서 C++ 의 경우 3초 / Java의 경우 3초 / Python 의 경우 10초|
|메모리|힙, 정적 메모리 합쳐서 256MB 이내, 스택 메모리 1MB 이내|

|   |
|---|
|**①   C 또는 C++로 답안을 작성하시는 응시자께서는 검정시스템에 제출 시, Language 에서 C++ 를 선택하신 후 제출하시기 바랍니다.**<br>**②   Main 과 User Code 부분으로 구성되어 있습니다.**<br>  **A**. Main         : 수정할 수 없는 코드이며, 채점 시 비 정상적인 답안 검출 등 평가를 위한 로직이 추가 될 수 있습니다.<br>  **B**. User Code  : 실제 응시자가 작성해야 하는 코드이며, 제출 시에는 표준 입출력 함수가 포함되어 있으면 안 됩니다.<br>**③   Local PC 에서 프로그래밍 시 유의 사항**<br>  **A**. 2개의 파일을 생성하셔야 합니다. ( main.cpp / solution.cpp 또는 Solution.java / UserSolution.java 또는 main.py / solution.py )<br>  **B**. Main 부분의 코드를 main.cpp 또는 Solution.java 또는 main.py 에 복사해서 사용하시기 바랍니다.<br>  **C**. sample_input.txt 를 사용하시기 위해서는 Main 부분의 코드 내에 표준 입력을 파일로 전환하는 코드 ( 주석처리 되어 있음 ) 의 주석을 풀어서 사용하시면 됩니다.<br>  **D**. User Code 부분의 코드를 작성하신 후 서버에 제출하실 때, 디버깅을 위한 표준 입출력 함수를 모두 삭제 또는 주석 처리해 주셔야 합니다.<br>**④   문제 내에 제약조건을 모두 명시하지 않으므로 주어지는 코드를 분석하셔야 합니다.**<br>**⑤   코드는 개발 언어에 따라 상이할 수 있으므로, 작성할 언어를 기준으로 분석하셔야 합니다.**|

**※** 본 문제는 임직원의 S/W 문제해결 역량 향상을 위한 **Professional 실전형 연습문제**이며
함께 제공되는 **Testcase 또한 학습을 위한 연습용**입니다.

## 문제 설명
아침 출근 시간에 활기찬 음악과 교통 정보를 제공하는 라디오 방송이 있다.
청취자들이 사연과 함께 자신이 있는 위치와 목적지를 알려주면, 목적지까지 이동하는데 소요되는 예상 시간을 알려주는 코너가 있다.
당신은 라디오 방송의 일원이다.

도시는 1차원의 직선 형태의 도로로 구성되어 있다.
도로에는 N개의 지점이 있으며, 도로의 시작 위치부터 순서대로 0 ~ N – 1 까지의 지점 ID를 갖는다.
구간은 각 지점과 인접한 지점의 사이를 의미하고 도로의 시작 위치부터 0 ~ N – 2 까지의 구간 ID를 갖는다 .
각 구간은 0 ~ M – 1 까지의 도로 종류 ID를 갖는다.

[Fig.1] 은 N이 6일 때의 도로의 구성을 나타낸 예이다.
지점 0과 지점 1의 구간과 지점 4와 지점 5의 구간은 같은 종류의 도로이다.
마찬가지로 지점 1과 지점 2의 구간과 지점 3과 지점 4의 구간도 같은 종류의 도로이다.
![[Pasted image 20260119171724.png]]
**\[Fig. 1\]**

각 구간의 예상 통과 시간이 실시간으로 변경이 된다.
도로의 종류에 따라서도 통과 시간이 실시간으로 변경이 된다.
각 구간의 양방향 예상 통과 시간은 동일하다.
출발 지점과 도착 지점이 주어지면, 이동하는데 소요되는 예상 시간을 계산하는 프로그램을 작성하라.

아래 API 설명을 참조하여 각 함수를 구현하라.
※ 아래 함수 signature는 C/C++에 대한 것으로 다른 언어에 대해서는 제공되는 Main과 User Code를 참고하라.

아래는 User Code 부분에 작성해야 하는 API 의 설명이다.

|   |
|---|
|**void init(int N, int M, int mType[], int mTime[])**|
|각 테스트 케이스의 처음에 호출된다.<br>지점은 N 개가 있다. 구간은 N-1개가 있고, 각 구간의 도로의 종류는 M개가 있다.<br>지점의 ID는 도로의 시작 지점부터 순서대로 0 ~ N – 1 이고,<br>구간의 ID는 도로의 시작 지점에 가까운 순서대로 0 ~ N – 2 이다.<br>각 구간의 도로의 종류는 도로의 시작 지점에 가까운 순서대로 mType[] 으로 N-1개가 주어지며 0 ~ M – 1 의 값을 갖는다.<br>각 구간의 현재 통과 예상 시간은 도로의 시작 지점에 가까운 순서대로 mTime[] 으로 주어진다.<br>같은 도로의 종류를 갖는 구간은 최대 200 개 이하이다.<br>     **_Parameters_**<br>      N : 지점의 개수 ( 10 ≤ N ≤ 100,000 )<br>      M : 도로의 종류 ( 1 ≤ M ≤ 1,000 )<br>      mType : 각 구간의 도로의 종류 ( 0 ≤ mType[] ≤ M – 1 )<br>      mTime : 각 구간의 통과 예상 시간 ( 1 ≤ mTime[] ≤ 1,000 )|
|**void destroy()**|
|각 테스트 케이스의 마지막에 호출된다.<br>빈 함수로 두어도 채점에는 영향을 주지 않는다.|
|**void update(int mID, int mNewTime)**|
|구간 mID 의 통과시간이 mNewTime으로 변경된다.<br>     **_Parameters_**<br>      mID : 구간 ID ( 0 ≤ mID ≤ N – 2 )<br>      mNewTime : 통과 예상 시간 ( 1 ≤ mNewTime ≤ 1,000 )|
|**int updateByType(int mTypeID, int mRatio256)**|
|도로의 종류가 mTypeID 인 구간들의 모든 도로의 통과 시간이 mRatio256 / 256 의 비율로 변경되며, 변경 이후 소수점 이하는 버린다. 변경된 모든 구간의 통과 시간의 합을 반환한다.<br>예를 들어, 어떤 구간에서 변경 전 통과 시간이 500이라 할 때, mRatio256 가 200으로 주어진다면,<br>변경 된 통과 시간은 500 * 200 / 256 으로 계산하고 소수점을 버리면 390 이 된다.<br>반환되는 값은 2,000,000,000 을 초과하지 않는다.<br>     **_Parameters_**<br>      mTypeID : 도로의 종류 ID ( 0 ≤ mTypeID[] ≤ M – 1 )<br>      mRatio256 : 변경되는 비율 ( 200 ≤ mRatio256 ≤ 300 )<br>     **_Results_**<br>      변경된 모든 구간의 통과 시간의 합|
|**int calculate(int mA, int mB)**|
|지점 mA 에서 지점 mB 까지 이동하는 데 예상되는 소요 시간을 반환 한다.<br>반환되는 값은 2,000,000,000 을 초과하지 않는다.<br>mA ≠ mB 이 보장된다.<br>     **_Parameters_**<br>      mA, mB : 지점 ID ( 0 ≤ mA, mB ≤ N – 1)<br>     **_Results_**<br>      지점 mA 에서 지점 mB 까지 이동하는 데 예상되는 소요 시간|

### 예제

아래와 같이 함수 호출이 되는 경우를 살펴 보자.

|   |   |   |   |
|---|---|---|---|
|**#**|**Function**|**Description**|**Return**|
|1|init(10, 2,  <br>0, 1, 1, 0, 1, 1, 1, 0, 1,  <br>47, 98, 80, 96, 57, 79, 85, 31, 46 )|지점은 10개가 있고, 구간은 9개가 있다.  <br>구간의 도로 종류는 2종류가 있으며,  <br>각 구간의 도로의 종류는 [0, 1, 1, 0, 1, 1, 1, 0, 1] 이고,  <br>각 구간의 통과 예상 시간은 [47, 98, 80, 96, 57, 79, 85, 31, 46] 이다.||
|2|update(4, 98)|구간 4의 통과 예상 시간이 98로 변경된다.||
|3|calculate(3, 4)|지점 3에서 출발하여 지점 4에 도착할 때 예상되는 소요 시간을 반환한다.|96|
|4|updateByType(1, 245)|도로의 종류가 1인 구간의 모든 통과시간이 비율 245 / 256만큼 변경된다.  <br>도로 1, 2, 4, 5, 6, 8 의 통과 예상 시간이 93, 76, 93, 75, 81, 44 로 변경되고, 합은 462이다.|462|
|5|update(5, 27)|구간 5의 통과 예상 시간이 27로 변경된다.||
|6|calculate(0, 8)|지점 0 에서 출발하여 지점 8에 도착할 때 예상되는 소요 시간을 반환한다.  <br>각 구간의 통과 예상 시간은 47, 93, 76, 96, 93, 27, 81, 31 이고, 합은 544이다.|544|
|7|update(1, 46)|||
|8|calculate(1, 7)|각 구간의 통과 예상 시간은 46, 76, 96, 93, 27, 81 이고, 합은 419이다.|419|
|9|update(6, 89)|||
|10|calculate(3, 0)|지점 3 에서 출발하여 지점 0 에 도착할 때 예상되는 소요 시간을 반환한다.  <br>각 구간의 통과 예상 시간은 76, 46, 47 이고, 합은 169이다.|169|
|11|update(0, 20)|||
|12|update(3, 40)|||
|13|calculate(7, 4)|각 구간의 통과 예상 시간은 89, 27, 93 이고, 합은 209이다.|209|
|14|calculate(7, 8)||31|
|15|calculate(0, 6)|각 구간의 통과 예상 시간은 20, 46, 76, 40, 93, 27 이고, 합은 302이다.|302|
|16|update(8, 34)|||
|17|calculate(1, 9)|각 구간의 통과 예상 시간은 46, 76, 40, 93, 27, 89, 31, 34 이고, 합은 436이다.|436|
|18|updateByType(1, 263)|도로 1, 2, 4, 5, 6, 8 의 통과 예상 시간이 47, 78, 95, 27, 91, 34 로 변경되고, 합은 372이다.|372|
|19|update(8, 10)|||
|20|update(0, 2)|||
|21|calculate(3, 1)|각 구간의 통과 예상 시간은 78, 47 이고, 합은 125이다.||
|22|updateByType(1, 278)|도로 1, 2, 4, 5, 6, 8 의 통과 예상 시간이 51, 84, 103, 29, 98, 10 로 변경되고, 합은 375이다.|375|
|23|updateByType(1, 202)|도로 1, 2, 4, 5, 6, 8 의 통과 예상 시간이 40, 66, 81, 22, 77, 7 로 변경되고, 합은 293이다.|293|
|24|updateByType(1, 259)||293|
|25|update(6, 82)|||
|26|calculate(2, 7)|각 구간의 통과 예상 시간은 66, 40, 81, 22, 82 이고, 합은 291이다.|291|

### 제약사항
1. 각 테스트 케이스 시작 시 init() 함수가, 종료 시 destroy() 함수가 호출된다.
2. 각 테스트 케이스에서 update() 함수는 최대 10,000회 호출된다.
3. 각 테스트 케이스에서 updateByTime() 함수는 최대 200회 호출된다.
4. 각 테스트 케이스에서 calculate() 함수는 최대 100,000회 호출된다.
5. 각 테스트 케이스에서 같은 도로의 종류를 갖는 구간은 최대 200 개 이하이다.
6. 각 테스트 케이스에서 모든 구간의 예상 통과 시간의 합은 2,000,000,000 을 넘지 않는다.

### 입출력
입출력은 제공되는 Main 부분의 코드에서 처리하므로 User Code 부분의 코드에서는 별도로 입출력을 처리하지 않는다.
Sample input 에 대한 정답 출력 결과는 “#TC번호 결과” 의 포맷으로 보여지며 결과가 100 일 경우 정답, 0 일 경우 오답을 의미한다.

## 연관 TALK
[\[H2309\] \[Pro\] 출근길 라디오](https://swexpertacademy.samsung.com/common/swea/solvingPractice/discussionBoardView.do?commuId=AYaVogl624DHBFba)